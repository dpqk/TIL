# 형식 맞추기

- 코드 형식은 중요하다!
   
- 적절한 행 길이를 유지하라.
- 길지 않은 소스로도 시스템을 구축할 수 있다.
   
- 신문 기사처럼 작성하라
  - 이름은 간단하면서도, 설명이 가능하게 짓는다.
   
- 개념은 빈 행으로 분리하라.
  - 빈 행은 새로운 개념을 시작한다는 시각적 단서다.
   
- 세로 밀집도
  - 줄바꿈이 개념을 분리한다면 세로 밀집도는 연관성을 의미
   
- 수직 거리
  - 서로 밀접한 개념은 세로로 가까이 둬야한다
- 변수 선언
  - 변수는 사용하는 위치에 최대한 가까이 선언한다.
- 인스턴스 변수
  - 인스턴스 변수는 클래스 맨 처음에 선언한다.
- 종속 함수
  - 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다.
  - 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치한다.
- 개념적 유사성
  - 친화도가 높을수록 코드를 가까이 배치한다.
  - 종속성, 비슷한 동작을 수행
   
- 가로 형식 맞추기
  - 120자 정도로 행 길이를 맞추기.
   
- 가로 공백과 밀집도
  - 가로로는 공백을 사용해 밀접한 개념과 느슨한 개념을 표현한다.
   
- 가로 정렬
  - 선언문과 할당문을 별도로 정렬하게되면 코드가 엉뚱한 부분을 강조해 진짜 의도가 가려지게 된다.
  - 정렬이 필요할 정도로 목록이 길다면 문제는 목록 길이지 정렬 부족이 아니다.
   
- 들여쓰기
  - 범위로 이뤄진 계층을 표현하기 위해 코드를 들여쓴다.
  - 간단한 if문, 짧은 while문에서도 들여쓰기를 무시하지 말자.
   
- 가짜 범위
  - 빈 while문, for문에서 빈 블록을 올바로 들여쓰고 괄호로 감싸준다.
   
- 팀 규칙
  - 개개인이 따로국밥처럼 맘대로 짜대는 코드는 피해야한다.
   
- 밥 아저씨의 형식 규칙 
  - 코드 자체가 최고의 구현 표준 문서가 되는 예.
<br/>
    
# 객체와 자료 구조

- 변수 사이에 함수라는 계층을 넣는다고 구현이 저절로 감춰지지는 않는다.
  - 구현을 감추려면 추상화가 필요하다!
   
- 사용자가 구현을 모른채 자료의 핵심을 조회할 수 있어야 진정한 의미의 클래스다.
- 자료를 세세하게 공개하기 보다는 추상적인 개념으로 표현하는 편이 좋다.
   
- *절차적인 코드는 기존 자료 구조를 변경하지 않으면서 새 함수를 추가하기 쉽다.*
- *객체 지향 코드는 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다.*
   
- *절차적인 코드는 새로운 자료 구조를 추가하기 어렵다. 그러려면 모든 함수를 고쳐야한다.*
- *객체지향 코드는 새로운 함수를 추가하기 쉽다. 그러려면 모든 클래스를 고쳐야한다.*
   
- __객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉬우며,__
- __절차적인 코드에서 어려운 변경은 객체지향에서 쉽다.__
   
- *디미터 법칙 : 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다.*
   
- *기차 충돌 : 여러 객차가 한줄로 이어진 기차처럼 보여지는 조잡하다 여겨지는 코드는 피하는 편이 좋다.*
   
- 잡종 구조
  - 양쪽에서 단점만 모아놓은 구조, 프로그래머가 함수나 타입을 보호할지 공개할지 확신하지 못해 어중간하게 내놓은 설계
   
- __구조체 감추기__
```
//ctxt에 공개해야하는 메서드가 너무 많아진다.
ctxt.getAbsolutePathOfScratchDirectoryOption();
ctxt.getScratchDirectoryOption.getAbsolutePath();
```

```
//ctxt객체에 임시 파일을 생성하도록 한다.
//ctxt는 내부 구조를 드러내지 않으며, 해당 함수는 자신이 몰라야 하는 여러 객체를 탐색 할 필요가 없다.    
BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName);
```
   
- 자료 전달 객체
  - 자료 구조체의 전형적인 형태는 공개 변수만 있고 함수가 없는 클래스다.
    - DTO : 흔히 데이터베이스에 저장된 가공되지 않은 정보를 애플리케이션 코드에서 사용할 객체로 변환하는 단계에서 처음으로 사용하는 구조체.
- 활성레코드
  - DTO의 특수한 형태.
  - 활성 레코드에 비지니스 규칙 메서드를 추가해 자료 구조를 객체로 취급하는 방식은 바람직하지 않다.
    - 활성 레코드는 자료 구조로 취급.
    - 비즈니스 규칙을 담으면서 내부 자료를 숨기는 객체를 따로 생성한다.
   
- __객체는 동작을 공개하고 자료를 숨긴다.__
  - 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기는 쉽다.
  - 기존 객체에 새 동작을 추가하기는 어렵다.
   
- __자료구조는 별다른 동작 없이 자료를 노출한다.__
  - 기존 자료 구조에 새 동작을 추가하기는 쉽다.
  - 기존 함수에 새 자료 구조를 추가하기는 어렵다.
